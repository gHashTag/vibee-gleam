# Chat Configuration - –î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∞–≤–¥—ã?

## ‚ùì –í–æ–ø—Ä–æ—Å
–ü–æ—á–µ–º—É —É –Ω–∞—Å –¥–≤–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —á–∞—Ç–æ–≤?
- `target_chats.gleam`
- `trigger_chats.gleam`

## ‚úÖ –û—Ç–≤–µ—Ç: –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

–≠—Ç–æ **–ù–ï –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**, –∞ **–¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:

### 1. `target_chats.gleam` - –ß–¢–û –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (polling)

**–§—É–Ω–∫—Ü–∏—è**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∏–∑ –∫–∞–∫–∏—Ö —á–∞—Ç–æ–≤ –∞–≥–µ–Ω—Ç **—á–∏—Ç–∞–µ—Ç** —Å–æ–æ–±—â–µ–Ω–∏—è

```gleam
pub const target_chats = [
  "693774948",    // –õ–∏—á–Ω—ã–π —á–∞—Ç
  "2737186844",   // Lead –≥—Ä—É–ø–ø–∞
  "2298297094",   // –¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª
  "-5082217642",  // Aimly.io dev
]
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
- `polling_actor.gleam` - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- `should_process_chat()` - –ø—Ä–æ–≤–µ—Ä–∫–∞, –Ω—É–∂–Ω–æ –ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—Ç

**–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã**: Digital Twin (–æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –í–°–Å)

---

### 2. `trigger_chats.gleam` - –ö–ê–ö –æ—Ç–≤–µ—á–∞—Ç—å

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Sniper Mode –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤

**–§—É–Ω–∫—Ü–∏—è**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–∏—Ö —á–∞—Ç–∞—Ö –∞–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞ —Ç—Ä–∏–≥–≥–µ—Ä—ã**

```gleam
pub fn get_trigger_chats() -> List(TriggerChatConfig) {
  [
    TriggerChatConfig(
      chat_id: "-5082217642",
      chat_name: "Aimly.io dev",
      is_active: True,
      response_probability: 0.0,  // Sniper Mode
      custom_triggers: [
        "–∫—É–ø–ª—é –∫—Ä–∏–ø—Ç—É",
        "–∫—É–ø–∏—Ç—å –∫—Ä–∏–ø—Ç—É",
        // ... 45+ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
      ],
      forward_chat_id: "2737186844",  // –ö—É–¥–∞ –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å
    ),
  ]
}
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**:
- `telegram_agent.gleam` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- `is_trigger_chat_active()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ Sniper Mode
- `should_respond_to_trigger()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã—Ö —Å–ª–æ–≤

**–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã**: Sniper Mode (—Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≥–≥–µ—Ä—ã)

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

### Flow –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:

```
1. Polling Actor –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
   ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∫–∞: chat_id –≤ target_chats?
   ‚îú‚îÄ –ù–ï–¢ ‚Üí –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
   ‚îî‚îÄ –î–ê ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
   ‚Üì
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: chat_id –≤ trigger_chats?
   ‚îú‚îÄ –î–ê ‚Üí Sniper Mode (—Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≥–≥–µ—Ä—ã)
   ‚îî‚îÄ –ù–ï–¢ ‚Üí Digital Twin (–æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å—ë)
```

### –ü—Ä–∏–º–µ—Ä 1: Aimly.io dev (-5082217642)

```
‚úÖ –í target_chats? –î–ê
‚úÖ –í trigger_chats? –î–ê
‚Üí –†–µ–∂–∏–º: Sniper Mode
‚Üí –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –û—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ "–∫—É–ø–ª—é –±–∏—Ç–∫–æ–∏–Ω" –∏ —Ç.–¥.
```

### –ü—Ä–∏–º–µ—Ä 2: –¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª (2298297094)

```
‚úÖ –í target_chats? –î–ê
‚ùå –í trigger_chats? –ù–ï–¢
‚Üí –†–µ–∂–∏–º: Digital Twin
‚Üí –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –í–°–Å
```

### –ü—Ä–∏–º–µ—Ä 3: –°–ª—É—á–∞–π–Ω–∞—è –≥—Ä—É–ø–ø–∞ (999999999)

```
‚ùå –í target_chats? –ù–ï–¢
‚Üí –†–µ–∂–∏–º: –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
‚Üí –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –ù–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—Å—è –≤–æ–æ–±—â–µ
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –ê—Å–ø–µ–∫—Ç | target_chats | trigger_chats |
|--------|--------------|---------------|
| **–¶–µ–ª—å** | –ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å | –ö–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å |
| **–§–æ—Ä–º–∞—Ç** | –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ ID | –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** | –î–ê (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞) | –ù–ï–¢ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| **–†–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** | Digital Twin | Sniper Mode |
| **–¢—Ä–∏–≥–≥–µ—Ä—ã** | –ù–µ –Ω—É–∂–Ω—ã | 45+ —Ç—Ä–∏–≥–≥–µ—Ä–Ω—ã—Ö —Ñ—Ä–∞–∑ |
| **–ü–µ—Ä–µ—Å—ã–ª–∫–∞** | –ù–µ—Ç | –î–∞ (forward_chat_id) |

---

## üîß –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Digital Twin)

**–§–∞–π–ª**: `target_chats.gleam`

```gleam
pub const target_chats = [
  "693774948",
  "2298297094",  // ‚Üê –î–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞
]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è

---

### –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ (Sniper Mode)

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å –≤ `target_chats.gleam`
```gleam
pub const target_chats = [
  "-5082217642",  // ‚Üê –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞
]
```

**–®–∞–≥ 2**: –î–æ–±–∞–≤–∏—Ç—å –≤ `trigger_chats.gleam`
```gleam
TriggerChatConfig(
  chat_id: "-5082217642",  // ‚Üê –ü–æ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–¥–µ—Å—å
  custom_triggers: ["–∫—É–ø–ª—é", "–∫—É–ø–∏—Ç—å"],
  forward_chat_id: "2737186844",
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ê–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç—Ä–∏–≥–≥–µ—Ä—ã + –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –≤ Lead –≥—Ä—É–ø–ø—É

---

## üé® –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ü–æ—á–µ–º—É –Ω–µ –æ–¥–∏–Ω —Ñ–∞–π–ª?

**–ü–ª–æ—Ö–æ** (–æ–¥–∏–Ω —Ñ–∞–π–ª):
```gleam
pub const chats = [
  #("693774948", None),  // Digital Twin
  #("-5082217642", Some(TriggerConfig(...))),  // Sniper
]
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚ùå –¢—Ä—É–¥–Ω–æ —á–∏—Ç–∞—Ç—å
- ‚ùå –°–º–µ—à–∏–≤–∞–µ—Ç –¥–≤–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**–•–æ—Ä–æ—à–æ** (–¥–≤–∞ —Ñ–∞–π–ª–∞):
```gleam
// target_chats.gleam - –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
pub const target_chats = ["693774948", "-5082217642"]

// trigger_chats.gleam - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
pub fn get_trigger_chats() -> List(TriggerChatConfig) { ... }
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π (SRP)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —á—Ç–µ–Ω–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —á–∞—Ç—ã
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–∞–∫–∏–µ —á–∞—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä—è—Ç—Å—è?

```bash
fly logs --app vibee-mcp | grep "Processing.*chats"
```

**–í—ã–≤–æ–¥**:
```
[POLL] Processing 5 chats (Digital Twin: ON)
[POLL] Chats: 693774948, 2737186844, 2298297094, 6579515876, -5082217642
```

### –ö–∞–∫–∏–µ —á–∞—Ç—ã –≤ Sniper Mode?

```bash
fly logs --app vibee-mcp | grep "SNIPER MODE"
```

**–í—ã–≤–æ–¥**:
```
[SNIPER] üéØ Chat -5082217642 is in SNIPER MODE
```

### –ö–∞–∫–∏–µ —á–∞—Ç—ã –≤ Digital Twin?

–í—Å–µ —á–∞—Ç—ã –∏–∑ `target_chats`, –∫–æ—Ç–æ—Ä—ã—Ö –ù–ï–¢ –≤ `trigger_chats`:
- 693774948 ‚úÖ
- 2737186844 ‚úÖ
- 2298297094 ‚úÖ
- 6579515876 ‚úÖ
- -5082217642 ‚ùå (Sniper Mode)

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤

1. **–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –∞–≥–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –≤—Å—ë?**
   - –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –≤ `target_chats.gleam`

2. **–•–æ—Ç–∏—Ç–µ Sniper Mode (—Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≥–≥–µ—Ä—ã)?**
   - –î–æ–±–∞–≤—å—Ç–µ –≤ `target_chats.gleam`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ `trigger_chats.gleam`

3. **–•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ—Å—ã–ª–∫—É –ª–∏–¥–æ–≤?**
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `forward_chat_id` –≤ `trigger_chats.gleam`

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —á–∞—Ç–æ–≤

**–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º Digital Twin ‚Üí Sniper:**
- –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `trigger_chats.gleam`

**–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º Sniper ‚Üí Digital Twin:**
- –£–¥–∞–ª–∏—Ç–µ –∏–∑ `trigger_chats.gleam` (–æ—Å—Ç–∞–≤—å—Ç–µ –≤ `target_chats.gleam`)

---

## ‚úÖ –í—ã–≤–æ–¥

**–î–≤–∞ —Ñ–∞–π–ª–∞ - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**

- `target_chats.gleam` = **–ß–¢–û** –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `trigger_chats.gleam` = **–ö–ê–ö** –æ—Ç–≤–µ—á–∞—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–≠—Ç–æ **–Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**, –∞ **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π**.

---

**Status**: Architecture explained
**Last Updated**: 2025-12-18 05:29 UTC
